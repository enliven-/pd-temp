<link rel="import" href="/components/polymer/polymer.html">
<link rel="import" href="/components/core-ajax/core-ajax.html">


<polymer-element name="classifieds-service" attributes="url classifieds">
  <template>
    <style>
      :host {
        display: none;
      }
    </style>
    <core-ajax id="ajax"
      auto
      url="{{ url }}"
      on-core-response="{{ loaded }}"
      headers='{"X-Requested-With": "XMLHttpRequest"}'
      handleAs="json">
    </core-ajax>
  </template>
  <script>
    Polymer('classifieds-service', {
      created : function() {
        this.classifieds = [];
      },
      loaded  : function() {
        this.classifieds = this.$.ajax.response.slice(0);
      }
    });
  </script>
</polymer-element>