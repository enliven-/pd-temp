<link rel="import" href="/components/polymer/polymer.html">
<link rel="import" href="/custom/classifieds-service/classifieds-service.html">
<link rel="import" href="/custom/classified-card/classified-card.html">


<polymer-element name="classifieds-list" attributes="url">
  <template>
    <style>
      :host {
        display: block;
        width: 100%;
      }
      classified-card {
        margin-bottom: 20px;
      }
    </style>
    <classifieds-service id="service" url="{{ url }}" classifieds="{{ classifieds }}"></classifieds-service>

    <div layout vertical center>
      <template repeat="{{classified in classifieds}}">
        <classified-card>
          <span class="listing-img"><img src="/fixtures/book1.jpg"></span>
          <span class="listing-title">{{ classified.title }}</span>
          <span class="listing-authors">{{ classified.authors }}</span>
          <span class="listing-publication">{{ classified.publication }}</span>
          <span class="listing-price">{{ classified.price }}</span>
        </classified-card>
      </template>
    </div>

  </template>
  <script>
    Polymer('classifieds-list', {
      create : function() {
        if(this.url==="") {
          this.url = "/api/classifieds.json"
        }
      }
    });
  </script>

</polymer-element>