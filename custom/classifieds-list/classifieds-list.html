<link rel="import" href="/components/polymer/polymer.html">
<link rel="import" href="/custom/classifieds-service/classifieds-service.html">
<link rel="import" href="/custom/classified-card/classified-card.html">


<polymer-element name="classifieds-list" constructor="ClassifiedsList" attributes="url">
  <template>
    <style>
      :host {
        display: block;
        width: 100%;
        background: #ddd;
      }
      classified-card {
        /*margin-bottom: 10px;*/
      }
    </style>
    <classifieds-service id="service" url="{{ url }}" classifieds="{{ classifieds }}"></classifieds-service>

    <div layout vertical center>
      <template repeat="{{classified in classifieds}}">
        <classified-card>
          <listing-img><img src="/fixtures/book1.jpg"></listing-img>
          <listing-title>{{ classified.title }}</listing-title>
          <!-- <listing-edition>{{ classified.edition }}</listing-edition> -->
          <listing-authors>{{ classified.authors }}</listing-authors>
          <listing-publication>{{ classified.publication }} Publications</listing-publication>
          <listing-price>Rs {{ classified.price }}</listing-price>
        </classified-card>
      </template>
    </div>

  </template>
  <script>
    Polymer('classifieds-list', {
      created : function() {
        if(this.url==="" || this.url===undefined) {
          this.url = "http://localhost:9393/listings";
          // this.url = "/api/classifieds.json";
        }
      }
    });
  </script>

</polymer-element>